<div class="page-container">
  
  <form class="form-box" [formGroup]="form" (submit)="aceptar()">
    
    <h3>Registro de Nuevo Usuario</h3>

    <div class="form-group">
      <label for="nombre_cliente">Nombre Completo</label>
      <input type="text" id="nombre_cliente" placeholder="Nombre y Apellido" formControlName="hnombre_cliente" />
    </div>
    <div class="form-error" *ngIf="form.controls['hnombre_cliente'].invalid && form.controls['hnombre_cliente'].touched">
      <span *ngIf="form.controls['hnombre_cliente'].hasError('required')">El nombre es requerido.</span>
    </div>

    <div class="form-group">
      <label for="dni">DNI</label>
      <input type="text" id="dni" placeholder="8 dígitos" formControlName="hdni" maxlength="8" />
    </div>
    <div class="form-error" *ngIf="form.controls['hdni'].invalid && form.controls['hdni'].touched">
      <span *ngIf="form.controls['hdni'].hasError('required')">El DNI es requerido.</span>
      <span *ngIf="form.controls['hdni'].hasError('minlength') || form.controls['hdni'].hasError('maxlength')">El DNI debe tener 8 dígitos.</span>
      <span *ngIf="form.controls['hdni'].hasError('pattern')">El DNI solo debe contener números.</span>
    </div>

    <div class="form-group">
      <label for="edad">Edad</label>
      <input type="number" id="edad" placeholder="Ej. 25" formControlName="hedad" />
    </div>
    <div class="form-error" *ngIf="form.controls['hedad'].invalid && form.controls['hedad'].touched">
      <span *ngIf="form.controls['hedad'].hasError('required')">La edad es requerida.</span>
      <span *ngIf="form.controls['hedad'].hasError('min')">Debes ser mayor de 18 años.</span>
    </div>

    <div class="form-group">
      <label for="estado_civil">Estado Civil</label>
      <select id="estado_civil" formControlName="hestado_civil">
        <option [ngValue]="null" disabled>Selecciona una opción</option>
        <option value="Soltero">Soltero</option>
        <option value="Casado">Casado</option>
        <option value="Conviviente">Conviviente</option>
        <option value="Divorciado">Divorciado</option>
        <option value="Viudo">Viudo</option>
      </select>
    </div>
    <div class="form-error" *ngIf="form.controls['hestado_civil'].invalid && form.controls['hestado_civil'].touched">
      <span *ngIf="form.controls['hestado_civil'].hasError('required')">El estado civil es requerido.</span>
    </div>

    <div class="form-group">
      <label for="ingreso_mensual">Ingreso Mensual (S/.)</label>
      <input type="number" id="ingreso_mensual" placeholder="Ej. 1500.50" formControlName="hingreso_mensual" />
    </div>
    <div class="form-error" *ngIf="form.controls['hingreso_mensual'].invalid && form.controls['hingreso_mensual'].touched">
      <span *ngIf="form.controls['hingreso_mensual'].hasError('required')">El ingreso es requerido.</span>
      <span *ngIf="form.controls['hingreso_mensual'].hasError('min')">El ingreso no puede ser negativo.</span>
      <span *ngIf="form.controls['hingreso_mensual'].hasError('min')">El ingreso mínimo debe ser S/. 1500.</span>
    </div>

    <div class="form-group">
      <label for="email">Correo</label>
      <input type="email" id="email" placeholder="Email" formControlName="hcorreo" />
    </div>
    <div class="form-error" *ngIf="form.controls['hcorreo'].invalid && form.controls['hcorreo'].touched">
      <span *ngIf="form.controls['hcorreo'].hasError('required')">El correo es requerido.</span>
      <span *ngIf="form.controls['hcorreo'].hasError('pattern')">El formato del correo no es válido.</span>
    </div>

    <div class="form-group">
      <label for="username">Nombre de Usuario (para Login)</label>
      <input type="text" id="username" placeholder="Username" formControlName="husername" />
    </div>
    <div class="form-error" *ngIf="form.controls['husername'].invalid && form.controls['husername'].touched">
      <span *ngIf="form.controls['husername'].hasError('required')">El nombre de usuario es requerido.</span>
      <span *ngIf="form.controls['husername'].hasError('usernameRepetido')">El nombre de usuario ya existe.</span>
    </div>

    <div class="form-group">
      <label for="password">Contraseña</label>
      <input type="password" id="password" placeholder="Password" formControlName="hpassword" />
    </div>
    <div class="form-error" *ngIf="form.controls['hpassword'].invalid && form.controls['hpassword'].touched">
      <span *ngIf="form.controls['hpassword'].hasError('required')">La contraseña es requerida.</span>
    </div>

    


    <div class="button-container">
      <button type="submit" class="btn-submit" [disabled]="form.invalid">Aceptar</button>
      <button type="button" class="btn-secondary" routerLink="/landing">Cancelar</button>
    </div>

  </form>
</div>